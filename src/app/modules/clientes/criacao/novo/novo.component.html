<div class="container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mat-elevation-z8">

    <h1 class="titulo col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
        Cadastrar novo cliente
    </h1>

    <hr class="hr">

    <mat-horizontal-stepper linear #stepper>

        <ng-template matStepperIcon="edit">
            <i class="fa fa-check"></i>
        </ng-template>

        <ng-template matStepperIcon="number">
            <i class="fa fa-fire"></i>
        </ng-template>

        <!-- PRIMEIRA ETAPA: CADASTRO DE DADOS DO CLIENTE -->
        <mat-step [stepControl]="dadosCliente" editable="true">
            <form #dadosClienteForm="ngForm" class="row form col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"
                [formGroup]="dadosCliente">
                <ng-template matStepLabel>
                    <span>Dados</span>
                </ng-template>

                <!-- INPUT GROUP NOME -->
                <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label
                            [ngClass]="{'label_invalida': dadosCliente.controls['nome'].touched && dadosCliente.controls['nome'].invalid}"
                            class="label">
                            Nome
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input matInput formControlName="nome" name="nome" maxlength="50" autocapitalize="words" style="text-transform:uppercase"
                            spellcheck="false" tabindex="1" type="text" autofocus="on" autocomplete="off"
                            [(ngModel)]="cliente.nome" #inputNome 
                            (keydown.enter)="botaoProximoPrimeiraEtapa.click()" (keydown.esc)="retornaParaVisualizacaoDeClientes()"
                            [ngClass]="{'input_invalida': dadosCliente.controls['nome'].touched && dadosCliente.controls['nome'].invalid}"
                            class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <mat-icon *ngIf="dadosCliente.controls['nome'].touched" [fontIcon]="dadosCliente.controls['nome'].touched && dadosCliente.controls['nome'].invalid 
                            ? 'error' 
                            : 'check'"
                            [ngClass]="{'icone_ok': !dadosCliente.controls['nome'].invalid,
                                        'icone_error': dadosCliente.controls['nome'].touched && dadosCliente.controls['nome'].invalid}"
                            class="icone"></mat-icon>
                    </div>

                    <div *ngIf="dadosCliente.controls['nome'].touched && dadosCliente.controls['nome'].invalid"
                        class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="error_message">{{ dadosCliente.controls['nome'].errors['minlength']
                            ? 'A quantidade mínima para este campo é de 3 caracteres'
                            : 'O campo nome não pode ser vazio' }}</h6>
                    </div>
                </div>

                <!-- INPUT GROUP TIPO -->
                <div class="row col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label">Tipo pessoa</label>
                    </div>
                    <select formControlName="tipoPessoa" name="tipoPessoa" autocomplete="off" tabindex="2"
                    (keydown.enter)="botaoProximoPrimeiraEtapa.click()" (keydown.esc)="retornaParaVisualizacaoDeClientes()"
                    (change)="atualizaTipoPessoa()" class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"
                    [(ngModel)]="cliente.tipoPessoa" required>
                        <option value="FISICA">Física</option>
                        <option value="JURIDICA">Jurídica</option>
                    </select>
                </div>

                <!-- INPUT GROUP STATUS -->
                <div class="row col-xl-6 col-lg-6 col-md-6 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label">Status</label>
                    </div>
                    <select formControlName="statusCliente" name="statusCliente" [(ngModel)]="cliente.statusCliente" tabindex="3"
                    (keydown.enter)="botaoProximoPrimeiraEtapa.click()" (keydown.esc)="retornaParaVisualizacaoDeClientes()"
                    class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <option value="COMUM">Comum</option>
                        <option value="DEVEDOR">Devedor</option>
                        <option value="VIP">Vip</option>
                        <option value="ATENCAO">Atenção</option>
                    </select>
                </div>

                <!-- INPUT GROUP CPF/CNPJ -->
                <div class="row col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label
                            [ngClass]="{'label_invalida': dadosCliente.controls['cpfCnpj'].touched && dadosCliente.controls['cpfCnpj'].invalid}"
                            class="label">{{ cliente.tipoPessoa == 'FISICA' ? 'Cpf' : 'Cnpj' }}</label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input type="text" autocomplete="off" formControlName="cpfCnpj" name="cpfCnpj"
                            spellcheck="false" tabindex="4" (input)="realizaTratamentoCpfCnpj()"
                            (keydown.enter)="botaoProximoPrimeiraEtapa.click()" (keydown.esc)="retornaParaVisualizacaoDeClientes()"
                            [(ngModel)]="cliente.cpfCnpj" [maxlength]="inputLengthCpfCnpj"
                            [ngClass]="{'input_invalida': dadosCliente.controls['cpfCnpj'].touched && dadosCliente.controls['cpfCnpj'].invalid}"
                            class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <mat-icon
                            *ngIf="dadosCliente.controls['cpfCnpj'].touched && dadosCliente.controls['cpfCnpj'].value != ''"
                            [fontIcon]="dadosCliente.controls['cpfCnpj'].touched && dadosCliente.controls['cpfCnpj'].invalid 
                            ? 'error' 
                            : 'check'"
                            [ngClass]="{'icone_ok': !dadosCliente.controls['cpfCnpj'].invalid,
                                    'icone_error': dadosCliente.controls['cpfCnpj'].touched && dadosCliente.controls['cpfCnpj'].invalid}"
                            class="icone"></mat-icon>
                    </div>

                    <div *ngIf="dadosCliente.controls['cpfCnpj'].touched && dadosCliente.controls['cpfCnpj'].invalid"
                        class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="error_message">{{ 'Este campo deve possuir ' + inputLengthCpfCnpj + ' dígitos numéricos' }}</h6>
                    </div>

                </div>

                <!-- INSCRIÇÃO ESTADUAL -->
                <div class="row col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label
                            [ngClass]="{'label_invalida': dadosCliente.controls['inscricaoEstadual'].touched && dadosCliente.controls['inscricaoEstadual'].invalid}"
                            [ngClass]="{'label_desabilitada': cliente.tipoPessoa == 'FISICA'}"
                            class="label">Inscrição estadual</label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input type="text" autocomplete="off" formControlName="inscricaoEstadual"
                            name="inscricaoEstadual" spellcheck="false" tabindex="5"
                            (keydown.enter)="botaoProximoPrimeiraEtapa.click()" (keydown.esc)="retornaParaVisualizacaoDeClientes()"
                            [ngClass]="{'input_invalida': dadosCliente.controls['inscricaoEstadual'].touched && dadosCliente.controls['inscricaoEstadual'].invalid}"
                            (input)="realizaTratamentoInscricaoEstadual()" [(ngModel)]="cliente.inscricaoEstadual"
                            maxlength="12" class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <mat-icon
                            *ngIf="dadosCliente.controls['inscricaoEstadual'].touched && dadosCliente.controls['inscricaoEstadual'].value != ''"
                            [fontIcon]="dadosCliente.controls['inscricaoEstadual'].touched && dadosCliente.controls['inscricaoEstadual'].invalid 
                            ? 'error' 
                            : 'check'"
                            [ngClass]="{'icone_ok': !dadosCliente.controls['inscricaoEstadual'].invalid,
                                    'icone_error': dadosCliente.controls['inscricaoEstadual'].touched && dadosCliente.controls['inscricaoEstadual'].invalid}"
                            class="icone"></mat-icon>
                    </div>
                    <div class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 *ngIf="dadosCliente.controls['inscricaoEstadual'].touched && dadosCliente.controls['inscricaoEstadual'].invalid"
                            class="error_message">{{ 'Este campo deve possuir 12 dígitos numéricos' }}</h6>
                    </div>
                </div>

                <!-- E-MAIL -->
                <div class="row col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label"
                            [ngClass]="{'label_invalida': dadosCliente.controls['email'].touched && dadosCliente.controls['email'].invalid}">
                            E-mail
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input type="email" autocomplete="off" maxlength="50" spellcheck="false" tabindex="6" style="text-transform:lowercase"
                            [ngClass]="{'input_invalida': dadosCliente.controls['email'].touched && dadosCliente.controls['email'].invalid}"
                            formControlName="email" name="email" [(ngModel)]="cliente.email"
                            (keydown.enter)="botaoProximoPrimeiraEtapa.click()" (keydown.esc)="retornaParaVisualizacaoDeClientes()"
                            class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <mat-icon
                            *ngIf="dadosCliente.controls['email'].touched && dadosCliente.controls['email'].value != ''"
                            [fontIcon]="dadosCliente.controls['email'].touched && dadosCliente.controls['email'].invalid 
                            ? 'error' 
                            : 'check'"
                            [ngClass]="{'icone_ok': !dadosCliente.controls['email'].invalid,
                                    'icone_error': dadosCliente.controls['email'].touched && dadosCliente.controls['email'].invalid}"
                            class="icone"></mat-icon>
                    </div>
                    <div class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 *ngIf="dadosCliente.controls['email'].touched && dadosCliente.controls['email'].invalid"
                            class="error_message">{{ 'O e-mail digitado é inválido' }}</h6>
                    </div>
                </div>

                <!-- DATA DE NASCIMENTO -->
                <div class="row col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label"
                        [ngClass]="{'label_desabilitada': cliente.tipoPessoa == 'JURIDICA'}">
                            Data de nascimento
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input min="1900-01-01" max="2023-04-17" (keydown.enter)="botaoProximoPrimeiraEtapa.click()" 
                        [ngClass]="{'emptyDate': cliente.dataNascimento == null || cliente.dataNascimento == ''}"
                        (keydown.esc)="retornaParaVisualizacaoDeClientes()" type="date" formControlName="dataNascimento" 
                        (focusout)="validaDataNascimento()" #inputDataNascimento
                        name="dataNascimento" formControlName="dataNascimento" name="dataNascimento" [(ngModel)]="cliente.dataNascimento" 
                        class="input input_data col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <div class="input_data_placeholder" *ngIf="!dataNascimentoAparente" [@fadeInOut] tabindex="7"
                        (focus)="habilitaDataNascimento()" (click)="habilitaDataNascimento()" 
                        [ngStyle]="{'cursor': cliente.tipoPessoa == 'FISICA' ? 'text' : 'default' }">
                        </div>
                    </div>
                </div>

                <!-- PRIMEIRO CONTAINER DE BOTÃO -->
                <div class="button_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                    <button class="button botaoHabilitado" #botaoVoltarVisualizacaoClientes mat-button tabindex="8" (click)="retornaParaVisualizacaoDeClientes()">
                        Voltar
                    </button>
                    <button (click)="avancaSegundaEtapa()" tabindex="9" class="button" 
                    [ngClass]="{'botaoHabilitado': dadosClienteForm.valid, 'botaoDesabilitado': !dadosClienteForm.valid}" 
                    mat-button matStepperNext #botaoProximoPrimeiraEtapa>Próximo</button>
                </div>
            </form>
        </mat-step>

        <!-- SEGUNDA ETAPA: CADASTRO DE TELEFONE -->
        <mat-step [stepControl]="dadosTelefone" editable="true">
            <form #dadosTelefoneForm="ngForm" class="row form form_telefone col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"
                [formGroup]="dadosTelefone">
                <ng-template matStepLabel>
                    <span>Telefone</span>
                </ng-template>

                <!-- Tipo do telefone -->
                <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label">Tipo do telefone</label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <select *ngIf="cliente.telefone != null" formControlName="tipoTelefone" name="tipoTelefone" 
                        [(ngModel)]="cliente.telefone.tipoTelefone" tabindex="10"
                        (keydown.enter)="botaoProximoSegundaEtapa.click();" (keydown.esc)="botaoVoltarSegundaEtapa.click();" 
                        (change)="atualizaValidatorsTelefone()" class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" #inputTipoTelefone>
                            <option value="" selected>Sem telefone</option>
                            <option value="FIXO">Fixo</option>
                            <option value="MOVEL">Móvel</option>
                            <option value="MOVEL_WHATSAPP">Móvel com whatsapp</option>
                        </select>
                    </div>
                </div>

                <!-- PREFIXO -->
                <div class="row col-xl-3 col-lg-4 col-md-4 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label"
                            [ngClass]="{'label_invalida': dadosTelefone.controls['prefixo'].touched && dadosTelefone.controls['prefixo'].invalid}"
                            [ngClass]="{'label_desabilitada': !verificaSeTipoTelefoneNuloOuVazio()}">
                            Prefixo
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input *ngIf="cliente.telefone != null" type="text" autocomplete="off" maxlength="2" spellcheck="false" tabindex="11" (input)="realizaTratamentoPrefixo()"
                            [ngClass]="{'input_invalida': dadosTelefone.controls['prefixo'].touched && dadosTelefone.controls['prefixo'].invalid}"
                            formControlName="prefixo" name="prefixo" [(ngModel)]="cliente.telefone.prefixo"
                            class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" (keydown.enter)="botaoProximoSegundaEtapa.click();" 
                            (keydown.esc)="botaoVoltarSegundaEtapa.click();" >
                        <mat-icon
                            *ngIf="dadosTelefone.controls['prefixo'].touched && dadosTelefone.controls['prefixo'].value != ''"
                            [fontIcon]="dadosTelefone.controls['prefixo'].touched && dadosTelefone.controls['prefixo'].invalid 
                            ? 'error' 
                            : 'check'"
                            [ngClass]="{'icone_ok': !dadosTelefone.controls['prefixo'].invalid,
                                    'icone_error': dadosTelefone.controls['prefixo'].touched && dadosTelefone.controls['prefixo'].invalid}"
                            class="icone"></mat-icon>
                    </div>
                    <div class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 *ngIf="dadosTelefone.controls['prefixo'].touched && dadosTelefone.controls['prefixo'].invalid"
                            class="error_message">{{ 'O prefixo deve ser composto por dois caracteres numéricos' }}</h6>
                    </div>
                </div>

                <!-- NÚMERO -->
                <div class="row col-xl-9 col-lg-8 col-md-8 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label"
                            [ngClass]="{'label_invalida': dadosTelefone.controls['numero'].touched && dadosTelefone.controls['numero'].invalid}"
                            [ngClass]="{'label_desabilitada': !verificaSeTipoTelefoneNuloOuVazio()}">
                            Número
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input *ngIf="cliente.telefone != null" type="text" autocomplete="off" [maxlength]="inputLengthTelefone" spellcheck="false" 
                            tabindex="12" (input)="realizaTratamentoNumeroTelefone()" (keydown.enter)="botaoProximoSegundaEtapa.click();" 
                            (keydown.esc)="botaoVoltarSegundaEtapa.click();" class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"
                            [ngClass]="{'input_invalida': dadosTelefone.controls['numero'].touched && dadosTelefone.controls['numero'].invalid}"
                            formControlName="numero" name="numero" [(ngModel)]="cliente.telefone.numero">
                        <mat-icon
                            *ngIf="dadosTelefone.controls['numero'].touched && dadosTelefone.controls['numero'].value != ''"
                            [fontIcon]="dadosTelefone.controls['numero'].touched && dadosTelefone.controls['numero'].invalid 
                            ? 'error' 
                            : 'check'"
                            [ngClass]="{'icone_ok': !dadosTelefone.controls['numero'].invalid,
                                    'icone_error': dadosTelefone.controls['numero'].touched && dadosTelefone.controls['numero'].invalid}"
                            class="icone"></mat-icon>
                    </div>
                    <div class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 *ngIf="dadosTelefone.controls['numero'].touched && dadosTelefone.controls['numero'].invalid"
                            class="error_message">{{ 'O número deve ser composto por ' + inputLengthTelefone + ' caracteres numéricos' }}</h6>
                    </div>
                </div>

                <div class="button_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                    <button class="button botaoHabilitado" #botaoVoltarSegundaEtapa mat-button matStepperPrevious tabindex="13" 
                    (click)="avancaPrimeiraEtapa()">
                        Voltar
                    </button>
                    <button class="button" mat-button #botaoProximoSegundaEtapa type="button" tabindex="14" (click)="avancaTerceiraEtapa()"
                    [ngClass]="{'botaoHabilitado': dadosTelefone.valid, 'botaoDesabilitado': !dadosTelefone.valid}" matStepperNext>
                        Próximo
                    </button>
                </div>
            </form>
        </mat-step>

        <!-- TERCEIRA ETAPA: CADASTRO DE ENDEREÇO -->
        <mat-step [stepControl]="dadosEndereco" editable="true">
            <form #dadosEnderecoForm="ngForm" class="row form col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"
                [formGroup]="dadosEndereco">
                <ng-template matStepLabel>
                    <span>Endereço</span>
                </ng-template>

                <!-- CÓDIGO POSTAL -->
                <div class="row col-xl-4 col-lg-12 col-md-12 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label" 
                            [ngClass]="{'label_invalida': dadosEndereco.controls['codigoPostal'].touched && dadosEndereco.controls['codigoPostal'].invalid}">
                            Cep
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input *ngIf="cliente.endereco != null"  type="text" autocomplete="off" formControlName="codigoPostal" name="codigoPostal"
                        spellcheck="false" [(ngModel)]="cliente.endereco.codigoPostal" #codigoPostal
                        (input)="realizaTratamentoCodigoPostal()" maxlength="8" tabindex="15"
                        (keydown.enter)="botaoEnviarFormulario.click()" (keydown.esc)="botaoVoltarTerceiraEtapa.click()"
                        [ngClass]="{'input_invalida': dadosEndereco.controls['codigoPostal'].touched && dadosEndereco.controls['codigoPostal'].invalid}"
                        class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <mat-icon
                        *ngIf="dadosEndereco.controls['codigoPostal'].touched && dadosEndereco.controls['codigoPostal'].value != ''"
                        [fontIcon]="dadosEndereco.controls['codigoPostal'].touched && dadosEndereco.controls['codigoPostal'].invalid 
                        ? 'error' 
                        : 'check'"
                        [ngClass]="{'icone_ok': !dadosEndereco.controls['codigoPostal'].invalid,
                                'icone_error': dadosEndereco.controls['codigoPostal'].touched && dadosEndereco.controls['codigoPostal'].invalid}"
                        class="icone"></mat-icon>
                    </div>

                    <div *ngIf="dadosEndereco.controls['codigoPostal'].touched && dadosEndereco.controls['codigoPostal'].invalid"
                    class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="error_message">{{ 'Este campo deve possuir 8 dígitos numéricos' }}</h6>
                    </div>
                </div>

                <!-- ESTADO -->
                <div class="row col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label"
                            [ngClass]="{'label_invalida': dadosEndereco.controls['estado'].touched && dadosEndereco.controls['estado'].invalid}">
                            Estado
                        </label>
                    </div>
                    <select *ngIf="cliente.endereco != null" formControlName="estado" name="estado" [(ngModel)]="cliente.endereco.estado" (change)="obtemTodosMunicipiosPorEstado()"
                    (keydown.enter)="botaoEnviarFormulario.click()" (keydown.esc)="botaoVoltarTerceiraEtapa.click()"
                    class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" tabindex="16">
                        <option value=""></option>
                        <option *ngFor="let estado of estadosResponse" [value]="estado.sigla">{{ estado.sigla + ' - ' + estado.nome | uppercase}}</option>
                    </select>
                </div>  

                <!-- CIDADE -->
                <div class="row col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label"
                            [ngClass]="{'label_invalida': dadosEndereco.controls['cidade'].touched && dadosEndereco.controls['cidade'].invalid}">
                            Cidade
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input type="text" autocomplete="off" formControlName="cidade" name="cidade" style="text-transform:uppercase"
                        spellcheck="false" [(ngModel)]="cliente.endereco.cidade" list="municipiosEstado" maxlength="50" (input)="atualizaValidatorsEndereco()"
                        (change)="atualizaValidatorsEndereco()" *ngIf="cliente.endereco != null"
                        [ngClass]="{'input_invalida': dadosEndereco.controls['cidade'].touched && dadosEndereco.controls['cidade'].invalid}"
                        (keydown.enter)="botaoEnviarFormulario.click()" (keydown.esc)="botaoVoltarTerceiraEtapa.click()"
                        class="input input_cidade col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" tabindex="17">
                        <mat-icon
                        *ngIf="dadosEndereco.controls['cidade'].touched && dadosEndereco.controls['cidade'].value != ''"
                        [fontIcon]="dadosEndereco.controls['cidade'].touched && dadosEndereco.controls['cidade'].invalid 
                        ? 'error' 
                        : 'check'"
                        [ngClass]="{'icone_ok': !dadosEndereco.controls['cidade'].invalid,
                                'icone_error': dadosEndereco.controls['cidade'].touched && dadosEndereco.controls['cidade'].invalid}"
                        class="icone"></mat-icon>
                    </div>

                    <datalist id="municipiosEstado">
                        <option *ngFor="let municipio of municipiosResponse" [value]="municipio.nome | uppercase"></option>
                    </datalist>

                    <div *ngIf="dadosEndereco.controls['cidade'].touched && dadosEndereco.controls['cidade'].invalid"
                    class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="error_message">{{ 'Este campo deve possuir 8 dígitos numéricos' }}</h6>
                    </div>
                </div>              

                <!-- LOGRADOURO -->
                <div class="row col-xl-10 col-lg-10 col-md-9 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label"
                        [ngClass]="{'label_invalida': dadosEndereco.controls['logradouro'].touched && dadosEndereco.controls['logradouro'].invalid}">
                            Logradouro
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input type="text" autocomplete="off" formControlName="logradouro" name="logradouro" style="text-transform:uppercase"
                        spellcheck="false" [(ngModel)]="cliente.endereco.logradouro" maxlength="50" (input)="atualizaValidatorsEndereco()"
                        (keydown.enter)="botaoEnviarFormulario.click()" (keydown.esc)="botaoVoltarTerceiraEtapa.click()" *ngIf="cliente.endereco != null" 
                        [ngClass]="{'input_invalida': dadosEndereco.controls['logradouro'].touched && dadosEndereco.controls['logradouro'].invalid}"
                        class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" tabindex="18">
                        <mat-icon *ngIf="dadosEndereco.controls['logradouro'].touched && dadosEndereco.controls['logradouro'].invalid 
                        || dadosEndereco.controls['logradouro'].valid 
                            && dadosEndereco.controls['logradouro'].touched 
                            && dadosEndereco.controls['logradouro'].value != '' 
                            && dadosEndereco.controls['logradouro'].value != null"
                        [fontIcon]="dadosEndereco.controls['logradouro'].touched && dadosEndereco.controls['logradouro'].invalid 
                            ? 'error' 
                            : 'check'"
                        [ngClass]="{'icone_ok': !dadosEndereco.controls['logradouro'].invalid,
                            'icone_error': dadosEndereco.controls['logradouro'].touched && dadosEndereco.controls['logradouro'].invalid}"
                        class="icone"></mat-icon>
                    </div>

                    <div *ngIf="dadosEndereco.controls['logradouro'].touched && dadosEndereco.controls['logradouro'].invalid"
                    class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="error_message">{{ 'Este campo não pode ser vazio' }}</h6>
                    </div>
                </div>

                <!-- NUMERO -->
                <div class="row col-xl-2 col-lg-2 col-md-3 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label"
                            [ngClass]="{'label_invalida': dadosEndereco.controls['numero'].touched && dadosEndereco.controls['numero'].invalid}">
                            Número
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input type="text" autocomplete="off" formControlName="numero" name="numero" maxlength="5"
                        spellcheck="false"[(ngModel)]="cliente.endereco.numero" (input)="atualizaValidatorsEndereco()" #numeroEndereco
                        [ngClass]="{'input_invalida': dadosEndereco.controls['numero'].touched && dadosEndereco.controls['numero'].invalid}"
                        (keydown.enter)="botaoEnviarFormulario.click()" (keydown.esc)="botaoVoltarTerceiraEtapa.click()" *ngIf="cliente.endereco != null" 
                        class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" tabindex="19">
                        <mat-icon *ngIf="dadosEndereco.controls['numero'].touched && dadosEndereco.controls['numero'].invalid 
                        || dadosEndereco.controls['logradouro'].valid 
                            && dadosEndereco.controls['numero'].touched 
                            && dadosEndereco.controls['numero'].value != '' 
                            && dadosEndereco.controls['numero'].value != null"
                        [fontIcon]="dadosEndereco.controls['numero'].touched && dadosEndereco.controls['numero'].invalid 
                            ? 'error' 
                            : 'check'"
                        [ngClass]="{'icone_ok': !dadosEndereco.controls['numero'].invalid,
                            'icone_error': dadosEndereco.controls['numero'].touched && dadosEndereco.controls['numero'].invalid}"
                        class="icone"></mat-icon>
                    </div>

                    <div *ngIf="dadosEndereco.controls['numero'].touched && dadosEndereco.controls['numero'].invalid"
                    class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="error_message">{{ 'Campo numérico obrigatório' }}</h6>
                    </div>
                </div>                

                <!-- BAIRRO -->
                <div class="row col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label"
                            [ngClass]="{'label_invalida': dadosEndereco.controls['bairro'].touched && dadosEndereco.controls['bairro'].invalid}">
                            Bairro
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input type="text" autocomplete="off" formControlName="bairro" name="bairro" style="text-transform:uppercase"
                        spellcheck="false"[(ngModel)]="cliente.endereco.bairro" maxlength="50" (input)="atualizaValidatorsEndereco()"
                        (keydown.enter)="botaoEnviarFormulario.click()" (keydown.esc)="botaoVoltarTerceiraEtapa.click()"
                        [ngClass]="{'input_invalida': dadosEndereco.controls['bairro'].touched && dadosEndereco.controls['bairro'].invalid}"
                        class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" tabindex="20" *ngIf="cliente.endereco != null" >
                        <mat-icon *ngIf="dadosEndereco.controls['bairro'].touched && dadosEndereco.controls['bairro'].value != ''"
                        [fontIcon]="dadosEndereco.controls['bairro'].touched && dadosEndereco.controls['bairro'].invalid 
                            ? 'error' 
                            : 'check'"
                        [ngClass]="{'icone_ok': !dadosEndereco.controls['bairro'].invalid,
                            'icone_error': dadosEndereco.controls['bairro'].touched && dadosEndereco.controls['bairro'].invalid}"
                        class="icone"></mat-icon>
                    </div>

                    <div *ngIf="dadosEndereco.controls['bairro'].touched && dadosEndereco.controls['bairro'].invalid"
                    class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="error_message">{{ 'Este campo deve possuir 8 dígitos numéricos' }}</h6>
                    </div>
                </div>         

                <!-- COMPLEMENTO -->
                <div class="row col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12 input_group">
                    <div class="row col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 label_container">
                        <label class="label" 
                            [ngClass]="{'label_invalida': dadosEndereco.controls['complemento'].touched && dadosEndereco.controls['complemento'].invalid}">
                            Complemento
                        </label>
                    </div>
                    <div class="input_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <input type="text" autocomplete="off" formControlName="complemento" name="complemento" style="text-transform:uppercase"
                        spellcheck="false"[(ngModel)]="cliente.endereco.complemento" maxlength="80" (input)="atualizaValidatorsEndereco()"
                        (keydown.enter)="botaoEnviarFormulario.click()" (keydown.esc)="botaoVoltarTerceiraEtapa.click()"
                        [ngClass]="{'input_invalida': dadosEndereco.controls['complemento'].touched && dadosEndereco.controls['complemento'].invalid}"
                        class="input col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12" tabindex="21" *ngIf="cliente.endereco != null" >
                        <mat-icon *ngIf="dadosEndereco.controls['complemento'].touched && dadosEndereco.controls['complemento'].value != ''"
                        [fontIcon]="dadosEndereco.controls['complemento'].touched && dadosEndereco.controls['complemento'].invalid 
                            ? 'error' 
                            : 'check'"
                        [ngClass]="{'icone_ok': !dadosEndereco.controls['complemento'].invalid,
                            'icone_error': dadosEndereco.controls['complemento'].touched && dadosEndereco.controls['complemento'].invalid}"
                        class="icone"></mat-icon>
                    </div>

                    <div *ngIf="dadosEndereco.controls['complemento'].touched && dadosEndereco.controls['complemento'].invalid"
                    class="error_message_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                        <h6 class="error_message">{{ 'Este campo deve possuir no máximo 80 caracteres' }}</h6>
                    </div>
                </div>                    

                <div class="button_container col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                    <button (click)="avancaSegundaEtapa()" #botaoVoltarTerceiraEtapa class="button botaoHabilitado" mat-button matStepperPrevious tabindex="22">
                        Voltar
                    </button>
                    <button (click)="enviarFormulario()" #botaoEnviarFormulario type="button" tabindex="23" class="button"
                    [disabled]="dadosEndereco.invalid"
                    [ngClass]="{'botaoHabilitado': dadosEndereco.valid, 'botaoDesabilitado': !dadosEndereco.valid}" mat-button>
                        Enviar
                    </button>
                </div>

            </form>
        </mat-step>

    </mat-horizontal-stepper>

</div>